<!-- views/partials/header.ejs -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title><%= title %></title>

    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
      defer
    ></script>

    <!-- Bootstrap 5 JS - Order Button Dropdown -->
    <script defer src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

    <!--Search Bar: dataviwer search bar script is in dataviewer.ejs; kingdom specific scripts are in there respective routes -->
    <script defer src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- Information display-->
    <script defer src="/javascripts/activeCarousel.js"></script> <!-- how user changes background -->
    <script defer src="/javascripts/delete.js"></script>
    <script defer src="/javascripts/imageEnlarge.js"></script>
    <script defer src="/javascripts/messageBoardView.js"></script>
    <script defer src="/javascripts/dataviewerSearch.js"></script>

    <!-- Downloads-->
    <script defer src="/javascripts/csvDownload.js"></script>
    <script defer src="/javascripts/imageDownload.js"></script>
    
    <!--Maps - Image Location -->
    <script defer src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script defer src="/javascripts/createMapDataviewer.js"></script> <!--index map (All Datasets)-->
    <script defer src="/javascripts/mapLocationToCoordinate.js"></script> <!--add map-->
  

    <!--Image date, time, gps coordinates-->
    <script defer src="https://cdn.jsdelivr.net/npm/exif-js"></script>
    <script defer src="/javascripts/image-date-gps.js"></script>

</head>

<!-- carousel background -->
<div id="carouselBackground" class="carousel slide carousel-fade" data-bs-ride="cycle" data-bs-interval="15000" >
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="/site_images/background0.png" id="0">
    </div>
    <div class="carousel-item">
      <img src="/site_images/background1.png" id="1">
    </div>
    <div class="carousel-item">
      <img src="/site_images/background2.jpg" id="2">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselBackground" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="false"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselBackground" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="false"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="container"> <!--smaller information view-->
  <div class="header clearfix"> <!--Nav-bar-->
    <nav class="navbar navbar-expand-sm bg-light navbar-light">
      <div class="container-fluid">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item" id="linkColor">
            <a class="nav-link" id="homeTab" href="/">Home</a>
          </li>
          <li class="nav-item" id="linkColor">
            <a class="nav-link" id="homeTab" href="/blogs">Message Board</a>
          </li>
          <li class="nav-item" id="linkColor">
            <a class="nav-link" href="/dataviewer">Data Viewer</a>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <% if (user) { %>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false" 
                id="linkColor"
              >Your Datasets </a>
              <ul class="dropdown-menu">
                <a class="dropdown-item" id="plantsTab" href="/plants"><img class="navImage" src="/nav_images/plant.png"/> Plants</a>
                <a class="dropdown-item" id="fungiTab" href="/fungi"><img class="navImage" src="/nav_images/mushroom.jpg"/> Fungi</a>
                <a class="dropdown-item" id="animalsTab" href="/animals"><img class="navImage" src="/nav_images/animal.png"/> Animals</a>
                <a class="dropdown-item" id="protistsTab" href="/protists"><img class="navImage" src="/nav_images/protist.jpg"/> Protists</a>
                <a class="dropdown-item" id="bacteriaTab" href="/bacteria"><img class="navImage" src="/nav_images/bacterium.png"/> Bacteria</a>
            </ul>
            </li>
            <% } %>
            <% if (user) { %>
              <li class="nav-item">
                  <a class="nav-link <%= user.admin === 1 ? 'admin-link' : '' %>" href="#">
                      <%= user._id %> (<%= user.username %>)
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/Logout">Logout</a>
              </li>
          <% } else { %>
              <li class="nav-item">
                  <a class="nav-link" href="/Register">Register</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/Login">Login</a>
              </li>
          <% } %>
        </ul>
      </div>
    </nav>
  </div>
  <body>
    <div id="containerInner">
      